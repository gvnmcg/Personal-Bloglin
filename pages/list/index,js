import BlockContent from "@sanity/block-content-to-react";
import { sanityQueryURL } from '../../utils/utils';


export async function getStaticProps() {
  const query = encodeURIComponent(`*[_type == 'list' && defined(slug.current) && defined(mainImage)]{'slug':slug.current, mainImage, title, categories}`);
  const result = await fetch(sanityQueryURL(query)).then((res) => res.json());
  const posts = result.result;

  return {
    props: {
      posts,
    },
  };
}

export default function Home({ posts }) {

  console.log(posts)
  return (
    <div className="prose mx-auto rounded-md bg-white p-7">
      {JSON.stringify(posts)}
    </div>
  );
}
